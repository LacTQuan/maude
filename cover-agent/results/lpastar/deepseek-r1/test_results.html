
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Test Results</title>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-okaidia.min.css" rel="stylesheet" />
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin: 20px;
            }
            table {
                border-collapse: collapse;
                width: 100%;
                box-shadow: 0 2px 3px rgba(0,0,0,0.1);
            }
            th, td {
                border: 1px solid #ddd;
                text-align: left;
                padding: 8px;
            }
            th {
                background-color: #f2f2f2;
            }
            tr:nth-child(even) {
                background-color: #f9f9f9;
            }
            .status-pass {
                color: green;
            }
            .status-fail {
                color: red;
            }
            pre {
                background-color: #282c34 !important;
                color: #ffffff !important;
                padding: 10px;
                border-radius: 5px;
                overflow-x: auto;
                white-space: pre-wrap;
                font-family: 'Courier New', Courier, monospace;
                font-size: 1.1em;  /* Slightly larger font size */
            }
        </style>
    </head>
    <body>
        <table>
            <tr>
                <th>Status</th>
                <th>Reason</th>
                <th>Exit Code</th>
                <th>Language</th>
                <th>Modified Test File</th>
                <th>Details</th>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________________________ test_make_grid ________________________________

    def test_make_grid():
        grid = [[0 for _ in range(5)] for _ in range(5)]
>       make_grid(grid)
E       NameError: name 'make_grid' is not defined

test_app.py:46: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      28      2    93%
---------------------------------
TOTAL           286     50    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_make_grid - NameError: name 'make_grid' is not defined
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_print_path(capsys):</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_______________________________ test_print_path ________________________________

capsys = <_pytest.capture.CaptureFixture object at 0x73a73cbf29f0>

    def test_print_path(capsys):
        grid = [[0 for _ in range(5)] for _ in range(5)]
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1
        found, path = planner.plan(start, goal)
>       print_path(path, start, goal, grid)
E       NameError: name 'print_path' is not defined

test_app.py:52: NameError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      35      3    91%
---------------------------------
TOTAL           293     51    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_print_path - NameError: name 'print_path' is not def...
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capsys):
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    print_path(path, start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 0)</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node)</span>
<span class="diff-added">+     pq.remove(node)</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.top()</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_lazy_pq_remove ______________________________

    def test_lazy_pq_remove():
>       pq = LazyPQ()
E       NameError: name 'LazyPQ' is not defined

test_app.py:46: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      34      8    76%
---------------------------------
TOTAL           292     56    81%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_pq_remove - NameError: name 'LazyPQ' is not def...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 0)
    assert pq.is_element_in_struct(node)
    pq.remove(node)
    assert not pq.is_element_in_struct(node)
    with pytest.raises(KeyError):
        pq.top()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_detect_changes():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.time_step = 1</span>
<span class="diff-added">+     planner.create_random_obstacles = True</span>
<span class="diff-added">+     obstacles = planner.detect_changes()</span>
<span class="diff-added">+     assert len(obstacles) > 0</span>
<span class="diff-added">+     for obs in obstacles:</span>
<span class="diff-added">+         assert planner.grid[obs.x][obs.y] == 1</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_detect_changes ______________________________

    def test_detect_changes():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        planner.time_step = 1
        planner.create_random_obstacles = True
>       obstacles = planner.detect_changes()

test_app.py:50: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <app.LPAStar object at 0x7e6af49065d0>

    def detect_changes(self):
        obstacles = []
        if self.time_step in self.time_discovered_obstacles:
            discovered = self.time_discovered_obstacles[self.time_step]
            for obs in discovered:
                if not (compare_coordinates(obs, self.start) or compare_coordinates(obs, self.goal)):
                    self.grid[obs.x][obs.y] = 1
                    obstacles.append(obs)
        if self.create_random_obstacles and random.random() > 1.0 / self.n:
            x = random.randint(0, self.n - 1)
            y = random.randint(0, self.n - 1)
>           if not ((self.start.x == x and self.start.y == y) or (self.goal.x == x and self.goal.y == y)):
E           AttributeError: 'NoneType' object has no attribute 'x'

app.py:267: AttributeError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     45    83%
test_app.py      34      4    88%
---------------------------------
TOTAL           292     49    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_detect_changes - AttributeError: 'NoneType' object h...
========================= 1 failed, 2 passed in 0.09s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_detect_changes():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.time_step = 1
    planner.create_random_obstacles = True
    obstacles = planner.detect_changes()
    assert len(obstacles) > 0
    for obs in obstacles:
        assert planner.grid[obs.x][obs.y] == 1
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import math</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_c_function_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 0)</span>
<span class="diff-added">+     grid[node1.x][node1.y] = 1</span>
<span class="diff-added">+     cost = planner.C(node1, node2)</span>
<span class="diff-added">+     assert cost == math.inf</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
__________________________ test_c_function_obstacles ___________________________

    def test_c_function_obstacles():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        node1 = Node(0, 0)
        node2 = Node(1, 0)
        grid[node1.x][node1.y] = 1
        cost = planner.C(node1, node2)
        assert cost == math.inf
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:54: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      33      0   100%
---------------------------------
TOTAL           291     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_c_function_obstacles - NameError: name 'path' is not...
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_c_function_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    node1 = Node(0, 0)
    node2 = Node(1, 0)
    grid[node1.x][node1.y] = 1
    cost = planner.C(node1, node2)
    assert cost == math.inf
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import math
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________________________ test_make_grid ________________________________

    def test_make_grid():
        grid = [[0 for _ in range(5)] for _ in range(5)]
>       make_grid(grid)
E       NameError: name 'make_grid' is not defined

test_app.py:46: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      28      2    93%
---------------------------------
TOTAL           286     50    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_make_grid - NameError: name 'make_grid' is not defined
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_print_path(capsys):</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_______________________________ test_print_path ________________________________

capsys = <_pytest.capture.CaptureFixture object at 0x7857086deb10>

    def test_print_path(capsys):
        grid = [[0 for _ in range(5)] for _ in range(5)]
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1
        found, path = planner.plan(start, goal)
>       print_path(path, start, goal, grid)
E       NameError: name 'print_path' is not defined

test_app.py:52: NameError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      35      3    91%
---------------------------------
TOTAL           293     51    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_print_path - NameError: name 'print_path' is not def...
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capsys):
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    print_path(path, start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 0)</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node)</span>
<span class="diff-added">+     pq.remove(node)</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.top()</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_lazy_pq_remove ______________________________

    def test_lazy_pq_remove():
>       pq = LazyPQ()
E       NameError: name 'LazyPQ' is not defined

test_app.py:46: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      34      8    76%
---------------------------------
TOTAL           292     56    81%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_pq_remove - NameError: name 'LazyPQ' is not def...
========================= 1 failed, 2 passed in 0.10s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 0)
    assert pq.is_element_in_struct(node)
    pq.remove(node)
    assert not pq.is_element_in_struct(node)
    with pytest.raises(KeyError):
        pq.top()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_detect_changes():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.time_step = 1</span>
<span class="diff-added">+     planner.create_random_obstacles = True</span>
<span class="diff-added">+     planner.start = Node(0, 0)</span>
<span class="diff-added">+     planner.goal = Node(4, 4)</span>
<span class="diff-added">+     obstacles = planner.detect_changes()</span>
<span class="diff-added">+     assert len(obstacles) > 0</span>
<span class="diff-added">+     for obs in obstacles:</span>
<span class="diff-added">+         assert planner.grid[obs.x][obs.y] == 1</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_detect_changes ______________________________

    def test_detect_changes():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        planner.time_step = 1
        planner.create_random_obstacles = True
        planner.start = Node(0, 0)
        planner.goal = Node(4, 4)
        obstacles = planner.detect_changes()
        assert len(obstacles) > 0
        for obs in obstacles:
            assert planner.grid[obs.x][obs.y] == 1
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:57: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     43    83%
test_app.py      36      0   100%
---------------------------------
TOTAL           294     43    85%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_detect_changes - NameError: name 'path' is not defined
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_detect_changes():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.time_step = 1
    planner.create_random_obstacles = True
    planner.start = Node(0, 0)
    planner.goal = Node(4, 4)
    obstacles = planner.detect_changes()
    assert len(obstacles) > 0
    for obs in obstacles:
        assert planner.grid[obs.x][obs.y] == 1
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import math</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_c_function_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 0)</span>
<span class="diff-added">+     grid[node1.x][node1.y] = 1</span>
<span class="diff-added">+     cost = planner.C(node1, node2)</span>
<span class="diff-added">+     assert cost == math.inf</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
__________________________ test_c_function_obstacles ___________________________

    def test_c_function_obstacles():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        node1 = Node(0, 0)
        node2 = Node(1, 0)
        grid[node1.x][node1.y] = 1
        cost = planner.C(node1, node2)
        assert cost == math.inf
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:54: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      33      0   100%
---------------------------------
TOTAL           291     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_c_function_obstacles - NameError: name 'path' is not...
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_c_function_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    node1 = Node(0, 0)
    node2 = Node(1, 0)
    grid[node1.x][node1.y] = 1
    cost = planner.C(node1, node2)
    assert cost == math.inf
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import math
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>2</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ new_imports_code: |</span>
<span class="diff-added">+     ""</span>
<span class="diff-added">+ test_tags: |</span>
<span class="diff-added">+     other</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/control.py:892: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/home/quanlac/code/maude/cover-agent/lpastar/test_app.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")
</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________________ ERROR collecting test_app.py _________________________
../../venv/lib/python3.12/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
../../venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:175: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:355: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
/usr/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/home/quanlac/code/maude/cover-agent/lpastar/test_app.py", line 48
E       new_imports_code: |
E                         ^
E   SyntaxError: invalid syntax

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name     Stmts   Miss  Cover
----------------------------
app.py     258    258     0%
----------------------------
TOTAL      258    258     0%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR test_app.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.18s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
new_imports_code: |
    ""
test_tags: |
    other
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python"></code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>2</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_print_path(capsys):</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+ new_imports_code: |</span>
<span class="diff-added">+     import pytest</span>
<span class="diff-added">+ test_tags: |</span>
<span class="diff-added">+     happy path</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/control.py:892: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/home/quanlac/code/maude/cover-agent/lpastar/test_app.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")
</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________________ ERROR collecting test_app.py _________________________
../../venv/lib/python3.12/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
../../venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:175: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:355: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
/usr/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/home/quanlac/code/maude/cover-agent/lpastar/test_app.py", line 54
E       new_imports_code: |
E                         ^
E   SyntaxError: invalid syntax

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name     Stmts   Miss  Cover
----------------------------
app.py     258    258     0%
----------------------------
TOTAL      258    258     0%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR test_app.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.25s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capsys):
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    print_path(path, start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
new_imports_code: |
    import pytest
test_tags: |
    happy path
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python"></code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>2</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 0)</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node)</span>
<span class="diff-added">+     pq.remove(node)</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.top()</span>
<span class="diff-added">+ new_imports_code: |</span>
<span class="diff-added">+     import pytest</span>
<span class="diff-added">+ test_tags: |</span>
<span class="diff-added">+     edge case</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/control.py:892: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/home/quanlac/code/maude/cover-agent/lpastar/test_app.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")
</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________________ ERROR collecting test_app.py _________________________
../../venv/lib/python3.12/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
../../venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:175: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:355: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
/usr/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/home/quanlac/code/maude/cover-agent/lpastar/test_app.py", line 53
E       new_imports_code: |
E                         ^
E   SyntaxError: invalid syntax

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name     Stmts   Miss  Cover
----------------------------
app.py     258    258     0%
----------------------------
TOTAL      258    258     0%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR test_app.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.25s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 0)
    assert pq.is_element_in_struct(node)
    pq.remove(node)
    assert not pq.is_element_in_struct(node)
    with pytest.raises(KeyError):
        pq.top()
new_imports_code: |
    import pytest
test_tags: |
    edge case
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python"></code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>2</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_c_function_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 0)</span>
<span class="diff-added">+     grid[node1.x][node1.y] = 1</span>
<span class="diff-added">+     cost = planner.C(node1, node2)</span>
<span class="diff-added">+     assert cost == math.inf</span>
<span class="diff-added">+ new_imports_code: |</span>
<span class="diff-added">+     import math</span>
<span class="diff-added">+ test_tags: |</span>
<span class="diff-added">+     edge case</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/control.py:892: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/home/quanlac/code/maude/cover-agent/lpastar/test_app.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")
</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________________ ERROR collecting test_app.py _________________________
../../venv/lib/python3.12/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
../../venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:175: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:355: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
/usr/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/home/quanlac/code/maude/cover-agent/lpastar/test_app.py", line 52
E       new_imports_code: |
E                         ^
E   SyntaxError: invalid syntax

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name     Stmts   Miss  Cover
----------------------------
app.py     258    258     0%
----------------------------
TOTAL      258    258     0%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR test_app.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.25s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_c_function_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    node1 = Node(0, 0)
    node2 = Node(1, 0)
    grid[node1.x][node1.y] = 1
    cost = planner.C(node1, node2)
    assert cost == math.inf
new_imports_code: |
    import math
test_tags: |
    edge case
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python"></code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>2</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_detect_changes():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.time_step = 1</span>
<span class="diff-added">+     planner.create_random_obstacles = True</span>
<span class="diff-added">+     planner.start = Node(0, 0)</span>
<span class="diff-added">+     planner.goal = Node(4, 4)</span>
<span class="diff-added">+     obstacles = planner.detect_changes()</span>
<span class="diff-added">+     assert len(obstacles) > 0</span>
<span class="diff-added">+     for obs in obstacles:</span>
<span class="diff-added">+         assert planner.grid[obs.x][obs.y] == 1</span>
<span class="diff-added">+ new_imports_code: |</span>
<span class="diff-added">+     import pytest</span>
<span class="diff-added">+ test_tags: |</span>
<span class="diff-added">+     edge case</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/control.py:892: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/home/quanlac/code/maude/cover-agent/lpastar/test_app.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")
</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________________ ERROR collecting test_app.py _________________________
../../venv/lib/python3.12/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
../../venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:175: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:355: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
/usr/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/home/quanlac/code/maude/cover-agent/lpastar/test_app.py", line 55
E       new_imports_code: |
E                         ^
E   SyntaxError: invalid syntax

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name     Stmts   Miss  Cover
----------------------------
app.py     258    258     0%
----------------------------
TOTAL      258    258     0%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR test_app.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.26s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_detect_changes():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.time_step = 1
    planner.create_random_obstacles = True
    planner.start = Node(0, 0)
    planner.goal = Node(4, 4)
    obstacles = planner.detect_changes()
    assert len(obstacles) > 0
    for obs in obstacles:
        assert planner.grid[obs.x][obs.y] == 1
new_imports_code: |
    import pytest
test_tags: |
    edge case
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python"></code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>2</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_compute_shortest_path_edge_cases():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     # Test case where g > rhs</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+ new_imports_code: |</span>
<span class="diff-added">+     ""</span>
<span class="diff-added">+ test_tags: |</span>
<span class="diff-added">+     edge case</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/control.py:892: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/home/quanlac/code/maude/cover-agent/lpastar/test_app.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")
</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________________ ERROR collecting test_app.py _________________________
../../venv/lib/python3.12/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
../../venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:175: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:355: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
/usr/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/home/quanlac/code/maude/cover-agent/lpastar/test_app.py", line 53
E       new_imports_code: |
E                         ^
E   SyntaxError: invalid syntax

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name     Stmts   Miss  Cover
----------------------------
app.py     258    258     0%
----------------------------
TOTAL      258    258     0%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR test_app.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.24s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_compute_shortest_path_edge_cases():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.max_time_step = 1
    start = Node(0, 0)
    goal = Node(4, 4)
    found, path = planner.plan(start, goal)
    # Test case where g > rhs
    assert found is True
new_imports_code: |
    ""
test_tags: |
    edge case
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python"></code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>2</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_path_reconstruction():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     # Check path reconstruction</span>
<span class="diff-added">+     current = goal</span>
<span class="diff-added">+     while not compare_coordinates(current, start):</span>
<span class="diff-added">+         assert current.pid is not None</span>
<span class="diff-added">+         current = Node(current.x - 1, current.y)</span>
<span class="diff-added">+ new_imports_code: |</span>
<span class="diff-added">+     ""</span>
<span class="diff-added">+ test_tags: |</span>
<span class="diff-added">+     happy path</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/control.py:892: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/home/quanlac/code/maude/cover-agent/lpastar/test_app.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")
</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________________ ERROR collecting test_app.py _________________________
../../venv/lib/python3.12/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
../../venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:175: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:355: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
/usr/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/home/quanlac/code/maude/cover-agent/lpastar/test_app.py", line 57
E       new_imports_code: |
E                         ^
E   SyntaxError: invalid syntax

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name     Stmts   Miss  Cover
----------------------------
app.py     258    258     0%
----------------------------
TOTAL      258    258     0%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR test_app.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.32s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_path_reconstruction():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.max_time_step = 1
    start = Node(0, 0)
    goal = Node(4, 4)
    found, path = planner.plan(start, goal)
    assert found is True
    # Check path reconstruction
    current = goal
    while not compare_coordinates(current, start):
        assert current.pid is not None
        current = Node(current.x - 1, current.y)
new_imports_code: |
    ""
test_tags: |
    happy path
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python"></code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>2</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_node_initialization():</span>
<span class="diff-added">+     node = Node(1, 2)</span>
<span class="diff-added">+     assert node.x == 1</span>
<span class="diff-added">+     assert node.y == 2</span>
<span class="diff-added">+     assert node.cost == 0.0</span>
<span class="diff-added">+     assert node.id == 1002  # 1*1000 + 2</span>
<span class="diff-added">+     node.print_status()</span>
<span class="diff-added">+ new_imports_code: |</span>
<span class="diff-added">+     ""</span>
<span class="diff-added">+ test_tags: |</span>
<span class="diff-added">+     other</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/control.py:892: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/home/quanlac/code/maude/venv/lib/python3.12/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/home/quanlac/code/maude/cover-agent/lpastar/test_app.py' (couldnt-parse)
  coverage._warn(msg, slug="couldnt-parse")
</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 0 items / 1 error

==================================== ERRORS ====================================
_________________________ ERROR collecting test_app.py _________________________
../../venv/lib/python3.12/site-packages/_pytest/python.py:493: in importtestmodule
    mod = import_path(
../../venv/lib/python3.12/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:175: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
../../venv/lib/python3.12/site-packages/_pytest/assertion/rewrite.py:355: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
/usr/lib/python3.12/ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "/home/quanlac/code/maude/cover-agent/lpastar/test_app.py", line 51
E       new_imports_code: |
E                         ^
E   SyntaxError: invalid syntax

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name     Stmts   Miss  Cover
----------------------------
app.py     258    258     0%
----------------------------
TOTAL      258    258     0%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
ERROR test_app.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.24s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_node_initialization():
    node = Node(1, 2)
    assert node.x == 1
    assert node.y == 2
    assert node.cost == 0.0
    assert node.id == 1002  # 1*1000 + 2
    node.print_status()
new_imports_code: |
    ""
test_tags: |
    other</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python"></code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________________________ test_make_grid ________________________________

    def test_make_grid():
        grid = [[0 for _ in range(5)] for _ in range(5)]
>       make_grid(grid)
E       NameError: name 'make_grid' is not defined

test_app.py:46: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      28      2    93%
---------------------------------
TOTAL           286     50    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_make_grid - NameError: name 'make_grid' is not defined
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_print_path(capsys):</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_______________________________ test_print_path ________________________________

capsys = <_pytest.capture.CaptureFixture object at 0x7eda893ee9c0>

    def test_print_path(capsys):
        grid = [[0 for _ in range(5)] for _ in range(5)]
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1
        found, path = planner.plan(start, goal)
>       print_path(path, start, goal, grid)
E       NameError: name 'print_path' is not defined

test_app.py:52: NameError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      35      3    91%
---------------------------------
TOTAL           293     51    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_print_path - NameError: name 'print_path' is not def...
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capsys):
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    print_path(path, start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 0)</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node)</span>
<span class="diff-added">+     pq.remove(node)</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.top()</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_lazy_pq_remove ______________________________

    def test_lazy_pq_remove():
>       pq = LazyPQ()
E       NameError: name 'LazyPQ' is not defined

test_app.py:46: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      34      8    76%
---------------------------------
TOTAL           292     56    81%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_pq_remove - NameError: name 'LazyPQ' is not def...
========================= 1 failed, 2 passed in 0.12s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 0)
    assert pq.is_element_in_struct(node)
    pq.remove(node)
    assert not pq.is_element_in_struct(node)
    with pytest.raises(KeyError):
        pq.top()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_detect_changes():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.time_step = 1</span>
<span class="diff-added">+     planner.create_random_obstacles = True</span>
<span class="diff-added">+     planner.start = Node(0, 0)</span>
<span class="diff-added">+     planner.goal = Node(4, 4)</span>
<span class="diff-added">+     obstacles = planner.detect_changes()</span>
<span class="diff-added">+     assert len(obstacles) > 0</span>
<span class="diff-added">+     for obs in obstacles:</span>
<span class="diff-added">+         assert planner.grid[obs.x][obs.y] == 1</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_detect_changes ______________________________

    def test_detect_changes():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        planner.time_step = 1
        planner.create_random_obstacles = True
        planner.start = Node(0, 0)
        planner.goal = Node(4, 4)
        obstacles = planner.detect_changes()
>       assert len(obstacles) > 0
E       assert 0 > 0
E        +  where 0 = len([])

test_app.py:53: AssertionError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      36      3    92%
---------------------------------
TOTAL           294     51    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_detect_changes - assert 0 > 0
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_detect_changes():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.time_step = 1
    planner.create_random_obstacles = True
    planner.start = Node(0, 0)
    planner.goal = Node(4, 4)
    obstacles = planner.detect_changes()
    assert len(obstacles) > 0
    for obs in obstacles:
        assert planner.grid[obs.x][obs.y] == 1
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import math</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_c_function_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 0)</span>
<span class="diff-added">+     grid[node1.x][node1.y] = 1</span>
<span class="diff-added">+     cost = planner.C(node1, node2)</span>
<span class="diff-added">+     assert cost == math.inf</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
__________________________ test_c_function_obstacles ___________________________

    def test_c_function_obstacles():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        node1 = Node(0, 0)
        node2 = Node(1, 0)
        grid[node1.x][node1.y] = 1
        cost = planner.C(node1, node2)
        assert cost == math.inf
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:54: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      33      0   100%
---------------------------------
TOTAL           291     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_c_function_obstacles - NameError: name 'path' is not...
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_c_function_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    node1 = Node(0, 0)
    node2 = Node(1, 0)
    grid[node1.x][node1.y] = 1
    cost = planner.C(node1, node2)
    assert cost == math.inf
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import math
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>-1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_compute_shortest_path_edge_cases():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     # Test case where g > rhs</span>
<span class="diff-added">+     current = goal</span>
<span class="diff-added">+     while not compare_coordinates(current, start):</span>
<span class="diff-added">+         assert current.pid is not None</span>
<span class="diff-added">+         current = Node(current.x - 1, current.y)</span>
<span class="diff-added">+     assert compare_coordinates(current, start)</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">Command timed out</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_compute_shortest_path_edge_cases():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.max_time_step = 1
    start = Node(0, 0)
    goal = Node(4, 4)
    found, path = planner.plan(start, goal)
    assert found is True
    # Test case where g > rhs
    current = goal
    while not compare_coordinates(current, start):
        assert current.pid is not None
        current = Node(current.x - 1, current.y)
    assert compare_coordinates(current, start)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_node_initialization():</span>
<span class="diff-added">+     node = Node(1, 2)</span>
<span class="diff-added">+     assert node.x == 1</span>
<span class="diff-added">+     assert node.y == 2</span>
<span class="diff-added">+     assert node.cost == 0.0</span>
<span class="diff-added">+     assert node.id == 1002  # 1*1000 + 2</span>
<span class="diff-added">+     node.print_status()</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
___________________________ test_node_initialization ___________________________

    def test_node_initialization():
        node = Node(1, 2)
        assert node.x == 1
        assert node.y == 2
        assert node.cost == 0.0
        assert node.id == 1002  # 1*1000 + 2
        node.print_status()
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:52: NameError
----------------------------- Captured stdout call -----------------------------
Node(1, 2) cost: 0.0, id: 1002, pid: 1002

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      31      0   100%
---------------------------------
TOTAL           289     48    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_node_initialization - NameError: name 'path' is not ...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_node_initialization():
    node = Node(1, 2)
    assert node.x == 1
    assert node.y == 2
    assert node.cost == 0.0
    assert node.id == 1002  # 1*1000 + 2
    node.print_status()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________________________ test_make_grid ________________________________

    def test_make_grid():
        grid = [[0 for _ in range(5)] for _ in range(5)]
>       make_grid(grid)
E       NameError: name 'make_grid' is not defined

test_app.py:46: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      28      2    93%
---------------------------------
TOTAL           286     50    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_make_grid - NameError: name 'make_grid' is not defined
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import math</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_c_function_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 0)</span>
<span class="diff-added">+     grid[node1.x][node1.y] = 1</span>
<span class="diff-added">+     cost = planner.C(node1, node2)</span>
<span class="diff-added">+     assert cost == math.inf</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
__________________________ test_c_function_obstacles ___________________________

    def test_c_function_obstacles():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        node1 = Node(0, 0)
        node2 = Node(1, 0)
        grid[node1.x][node1.y] = 1
        cost = planner.C(node1, node2)
        assert cost == math.inf
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:54: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      33      0   100%
---------------------------------
TOTAL           291     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_c_function_obstacles - NameError: name 'path' is not...
========================= 1 failed, 2 passed in 0.10s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_c_function_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    node1 = Node(0, 0)
    node2 = Node(1, 0)
    grid[node1.x][node1.y] = 1
    cost = planner.C(node1, node2)
    assert cost == math.inf
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import math
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_detect_changes():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.time_step = 1</span>
<span class="diff-added">+     planner.create_random_obstacles = True</span>
<span class="diff-added">+     planner.start = Node(0, 0)</span>
<span class="diff-added">+     planner.goal = Node(4, 4)</span>
<span class="diff-added">+     obstacles = planner.detect_changes()</span>
<span class="diff-added">+     assert len(obstacles) > 0</span>
<span class="diff-added">+     for obs in obstacles:</span>
<span class="diff-added">+         assert planner.grid[obs.x][obs.y] == 1</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_detect_changes ______________________________

    def test_detect_changes():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        planner.time_step = 1
        planner.create_random_obstacles = True
        planner.start = Node(0, 0)
        planner.goal = Node(4, 4)
        obstacles = planner.detect_changes()
        assert len(obstacles) > 0
        for obs in obstacles:
            assert planner.grid[obs.x][obs.y] == 1
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:57: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     43    83%
test_app.py      36      0   100%
---------------------------------
TOTAL           294     43    85%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_detect_changes - NameError: name 'path' is not defined
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_detect_changes():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.time_step = 1
    planner.create_random_obstacles = True
    planner.start = Node(0, 0)
    planner.goal = Node(4, 4)
    obstacles = planner.detect_changes()
    assert len(obstacles) > 0
    for obs in obstacles:
        assert planner.grid[obs.x][obs.y] == 1
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>-1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_compute_shortest_path_edge_cases():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     # Test case where g > rhs</span>
<span class="diff-added">+     current = goal</span>
<span class="diff-added">+     while not compare_coordinates(current, start):</span>
<span class="diff-added">+         assert current.pid is not None</span>
<span class="diff-added">+         current = Node(current.x - 1, current.y)</span>
<span class="diff-added">+     assert compare_coordinates(current, start)</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">Command timed out</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_compute_shortest_path_edge_cases():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.max_time_step = 1
    start = Node(0, 0)
    goal = Node(4, 4)
    found, path = planner.plan(start, goal)
    assert found is True
    # Test case where g > rhs
    current = goal
    while not compare_coordinates(current, start):
        assert current.pid is not None
        current = Node(current.x - 1, current.y)
    assert compare_coordinates(current, start)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_node_initialization():</span>
<span class="diff-added">+     node = Node(1, 3)</span>
<span class="diff-added">+     assert node.x == 1</span>
<span class="diff-added">+     assert node.y == 3</span>
<span class="diff-added">+     assert node.cost == 0.0</span>
<span class="diff-added">+     assert node.id == 1003  # 1*1000 + 3</span>
<span class="diff-added">+     node.print_status()</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
___________________________ test_node_initialization ___________________________

    def test_node_initialization():
        node = Node(1, 3)
        assert node.x == 1
        assert node.y == 3
        assert node.cost == 0.0
        assert node.id == 1003  # 1*1000 + 3
        node.print_status()
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:52: NameError
----------------------------- Captured stdout call -----------------------------
Node(1, 3) cost: 0.0, id: 1003, pid: 1003

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      31      0   100%
---------------------------------
TOTAL           289     48    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_node_initialization - NameError: name 'path' is not ...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_node_initialization():
    node = Node(1, 3)
    assert node.x == 1
    assert node.y == 3
    assert node.cost == 0.0
    assert node.id == 1003  # 1*1000 + 3
    node.print_status()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ from app import make_grid</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________________________ test_make_grid ________________________________

    def test_make_grid():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        make_grid(grid)
        assert grid == [[0 for _ in range(5)] for _ in range(5)]
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:50: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      29      0   100%
---------------------------------
TOTAL           287     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_make_grid - NameError: name 'path' is not defined
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import make_grid
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-added">+ from app import print_path</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_print_path(capsys):</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_______________________________ test_print_path ________________________________

capsys = <_pytest.capture.CaptureFixture object at 0x736f294e2b40>

    def test_print_path(capsys):
        grid = [[0 for _ in range(5)] for _ in range(5)]
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1
        found, path = planner.plan(start, goal)
        print_path(path, start, goal, grid)
        captured = capsys.readouterr()
        assert "Path from start to goal:" in captured.out
    
>       assert path == []
E       assert [Node(4, 4), ...de(0, 3), ...] == []
E         
E         Left contains 9 more items, first extra item: Node(4, 4)
E         Use -v to get more diff

test_app.py:57: AssertionError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     44    83%
test_app.py      36      0   100%
---------------------------------
TOTAL           294     44    85%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_print_path - assert [Node(4, 4), ...de(0, 3), ...] =...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capsys):
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    print_path(path, start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
from app import print_path
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ from app import LazyPQ, Node</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 0)</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node)</span>
<span class="diff-added">+     pq.remove(node)</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.top()</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_lazy_pq_remove ______________________________

    def test_lazy_pq_remove():
        pq = LazyPQ()
        node = Node(0, 0)
        pq.insert(node, 0)
        assert pq.is_element_in_struct(node)
        pq.remove(node)
        assert not pq.is_element_in_struct(node)
>       with pytest.raises(KeyError):
E       NameError: name 'pytest' is not defined

test_app.py:52: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      34      2    94%
---------------------------------
TOTAL           292     50    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_pq_remove - NameError: name 'pytest' is not def...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 0)
    assert pq.is_element_in_struct(node)
    pq.remove(node)
    assert not pq.is_element_in_struct(node)
    with pytest.raises(KeyError):
        pq.top()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LazyPQ, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_set_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(create_random_obstacles=True, time_discovered_obstacles={1: [Node(1, 1)]})</span>
<span class="diff-added">+     assert planner.create_random_obstacles</span>
<span class="diff-added">+     assert planner.time_discovered_obstacles == {1: [Node(1, 1)]}</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
__________________________ test_set_dynamic_obstacles __________________________

    def test_set_dynamic_obstacles():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        planner.set_dynamic_obstacles(create_random_obstacles=True, time_discovered_obstacles={1: [Node(1, 1)]})
        assert planner.create_random_obstacles
        assert planner.time_discovered_obstacles == {1: [Node(1, 1)]}
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:51: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     46    82%
test_app.py      30      0   100%
---------------------------------
TOTAL           288     46    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_set_dynamic_obstacles - NameError: name 'path' is no...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_set_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(create_random_obstacles=True, time_discovered_obstacles={1: [Node(1, 1)]})
    assert planner.create_random_obstacles
    assert planner.time_discovered_obstacles == {1: [Node(1, 1)]}
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_detect_changes():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.time_step = 1</span>
<span class="diff-added">+     planner.create_random_obstacles = True</span>
<span class="diff-added">+     planner.start = Node(0, 0)</span>
<span class="diff-added">+     planner.goal = Node(4, 4)</span>
<span class="diff-added">+     obstacles = planner.detect_changes()</span>
<span class="diff-added">+     assert len(obstacles) > 0</span>
<span class="diff-added">+     for obs in obstacles:</span>
<span class="diff-added">+         assert planner.grid[obs.x][obs.y] == 1</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_detect_changes ______________________________

    def test_detect_changes():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        planner.time_step = 1
        planner.create_random_obstacles = True
        planner.start = Node(0, 0)
        planner.goal = Node(4, 4)
        obstacles = planner.detect_changes()
        assert len(obstacles) > 0
        for obs in obstacles:
            assert planner.grid[obs.x][obs.y] == 1
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:56: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     43    83%
test_app.py      35      0   100%
---------------------------------
TOTAL           293     43    85%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_detect_changes - NameError: name 'path' is not defined
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_detect_changes():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.time_step = 1
    planner.create_random_obstacles = True
    planner.start = Node(0, 0)
    planner.goal = Node(4, 4)
    obstacles = planner.detect_changes()
    assert len(obstacles) > 0
    for obs in obstacles:
        assert planner.grid[obs.x][obs.y] == 1
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import math</span>
<span class="diff-added">+ from app import LPAStar, Node</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_c_function_diagonal():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 1)</span>
<span class="diff-added">+     cost = planner.C(node1, node2)</span>
<span class="diff-added">+     assert cost == math.inf</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
___________________________ test_c_function_diagonal ___________________________

    def test_c_function_diagonal():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        node1 = Node(0, 0)
        node2 = Node(1, 1)
        cost = planner.C(node1, node2)
        assert cost == math.inf
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:54: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      33      0   100%
---------------------------------
TOTAL           291     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_c_function_diagonal - NameError: name 'path' is not ...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_c_function_diagonal():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    node1 = Node(0, 0)
    node2 = Node(1, 1)
    cost = planner.C(node1, node2)
    assert cost == math.inf
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import math
from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>-1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_compute_shortest_path_edge_cases():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     # Test case where g > rhs</span>
<span class="diff-added">+     current = goal</span>
<span class="diff-added">+     while not compare_coordinates(current, start):</span>
<span class="diff-added">+         assert current.pid is not None</span>
<span class="diff-added">+         current = Node(current.x - 1, current.y)</span>
<span class="diff-added">+     assert compare_coordinates(current, start)</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python">Command timed out</code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_compute_shortest_path_edge_cases():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    planner.max_time_step = 1
    start = Node(0, 0)
    goal = Node(4, 4)
    found, path = planner.plan(start, goal)
    assert found is True
    # Test case where g > rhs
    current = goal
    while not compare_coordinates(current, start):
        assert current.pid is not None
        current = Node(current.x - 1, current.y)
    assert compare_coordinates(current, start)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_clear_path_display():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     path = [start, goal]</span>
<span class="diff-added">+     planner.clear_path_display(path)</span>
<span class="diff-added">+     for node in path:</span>
<span class="diff-added">+         assert planner.grid[node.x][node.y] != 3</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
___________________________ test_clear_path_display ____________________________

    def test_clear_path_display():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        start = Node(0, 0)
        goal = Node(4, 4)
        path = [start, goal]
>       planner.clear_path_display(path)

test_app.py:50: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <app.LPAStar object at 0x71381d7d2240>, path = [Node(0, 0), Node(4, 4)]

    def clear_path_display(self, path):
        for node in path:
            if self.grid[node.x][node.y] == 1:  # discovered obstacle; leave it as obstacle
                self.grid[node.x][node.y] = 2  # mark as explored but not a path
>       self.grid[self.start.x][self.start.y] = 3
E       AttributeError: 'NoneType' object has no attribute 'x'

app.py:276: AttributeError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      33      3    91%
---------------------------------
TOTAL           291     51    82%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_clear_path_display - AttributeError: 'NoneType' obje...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_clear_path_display():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    start = Node(0, 0)
    goal = Node(4, 4)
    path = [start, goal]
    planner.clear_path_display(path)
    for node in path:
        assert planner.grid[node.x][node.y] != 3
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_get_new_path():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     reconstructed_path = planner.get_new_path()</span>
<span class="diff-added">+     assert len(reconstructed_path) == len(path)</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
______________________________ test_get_new_path _______________________________

    def test_get_new_path():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        start = Node(0, 0)
        goal = Node(4, 4)
        found, path = planner.plan(start, goal)
        assert found is True
        reconstructed_path = planner.get_new_path()
        assert len(reconstructed_path) == len(path)
    
>       assert path == []
E       assert [Node(4, 4), ...de(0, 3), ...] == []
E         
E         Left contains 9 more items, first extra item: Node(4, 4)
E         Use -v to get more diff

test_app.py:54: AssertionError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      33      0   100%
---------------------------------
TOTAL           291     48    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_get_new_path - assert [Node(4, 4), ...de(0, 3), ...]...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_get_new_path():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    start = Node(0, 0)
    goal = Node(4, 4)
    found, path = planner.plan(start, goal)
    assert found is True
    reconstructed_path = planner.get_new_path()
    assert len(reconstructed_path) == len(path)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import random</span>
<span class="diff-added">+ import time</span>
<span class="diff-added">+ from app import LPAStar, Node, make_grid, print_path</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_main_block():</span>
<span class="diff-added">+     n = 11</span>
<span class="diff-added">+     grid = [[0 for _ in range(n)] for _ in range(n)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     start = Node(random.randint(0, n-1), random.randint(0, n-1))</span>
<span class="diff-added">+     goal = Node(random.randint(0, n-1), random.randint(0, n-1))</span>
<span class="diff-added">+     start.id = start.x * n + start.y</span>
<span class="diff-added">+     start.pid = start.id</span>
<span class="diff-added">+     goal.id = goal.x * n + goal.y</span>
<span class="diff-added">+     goal.h_cost = abs(start.x - goal.x) + abs(start.y - goal.y)</span>
<span class="diff-added">+     grid[start.x][start.y] = 0</span>
<span class="diff-added">+     grid[goal.x][goal.y] = 0</span>
<span class="diff-added">+     start.print_status()</span>
<span class="diff-added">+     goal.print_status()</span>
<span class="diff-added">+     print_grid(grid)</span>
<span class="diff-added">+     time_discovered_obstacles = {</span>
<span class="diff-added">+         1: [Node(1, 1)],</span>
<span class="diff-added">+         2: [Node(2, 2), Node(3, 3)],</span>
<span class="diff-added">+         3: [Node(4, 4)]</span>
<span class="diff-added">+     }</span>
<span class="diff-added">+     lpa_star = LPAStar(grid)</span>
<span class="diff-added">+     lpa_star.set_dynamic_obstacles(False, time_discovered_obstacles)</span>
<span class="diff-added">+     found, path = lpa_star.plan(start, goal)</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_______________________________ test_main_block ________________________________

    def test_main_block():
        n = 11
        grid = [[0 for _ in range(n)] for _ in range(n)]
        make_grid(grid)
        start = Node(random.randint(0, n-1), random.randint(0, n-1))
        goal = Node(random.randint(0, n-1), random.randint(0, n-1))
        start.id = start.x * n + start.y
        start.pid = start.id
        goal.id = goal.x * n + goal.y
        goal.h_cost = abs(start.x - goal.x) + abs(start.y - goal.y)
        grid[start.x][start.y] = 0
        grid[goal.x][goal.y] = 0
        start.print_status()
        goal.print_status()
>       print_grid(grid)
E       NameError: name 'print_grid' is not defined

test_app.py:61: NameError
----------------------------- Captured stdout call -----------------------------
Node(7, 3) cost: 0.0, id: 80, pid: 80
Node(9, 9) cost: 0.0, id: 108, pid: 9009

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      48      7    85%
---------------------------------
TOTAL           306     54    82%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_main_block - NameError: name 'print_grid' is not def...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_main_block():
    n = 11
    grid = [[0 for _ in range(n)] for _ in range(n)]
    make_grid(grid)
    start = Node(random.randint(0, n-1), random.randint(0, n-1))
    goal = Node(random.randint(0, n-1), random.randint(0, n-1))
    start.id = start.x * n + start.y
    start.pid = start.id
    goal.id = goal.x * n + goal.y
    goal.h_cost = abs(start.x - goal.x) + abs(start.y - goal.y)
    grid[start.x][start.y] = 0
    grid[goal.x][goal.y] = 0
    start.print_status()
    goal.print_status()
    print_grid(grid)
    time_discovered_obstacles = {
        1: [Node(1, 1)],
        2: [Node(2, 2), Node(3, 3)],
        3: [Node(4, 4)]
    }
    lpa_star = LPAStar(grid)
    lpa_star.set_dynamic_obstacles(False, time_discovered_obstacles)
    found, path = lpa_star.plan(start, goal)
    assert found is True
    print_path(path, start, goal, grid)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import random
import time
from app import LPAStar, Node, make_grid, print_path
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________________________ test_make_grid ________________________________

    def test_make_grid():
        grid = [[0 for _ in range(5)] for _ in range(5)]
>       make_grid(grid)
E       NameError: name 'make_grid' is not defined

test_app.py:46: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      28      2    93%
---------------------------------
TOTAL           286     50    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_make_grid - NameError: name 'make_grid' is not defined
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import math</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_heuristic_calculation():</span>
<span class="diff-added">+     node1 = Node(1, 1)</span>
<span class="diff-added">+     node2 = Node(4, 4)</span>
<span class="diff-added">+     assert LPAStar.H(node1, node2) == math.sqrt(3*3 + 3*3)</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
__________________________ test_heuristic_calculation __________________________

    def test_heuristic_calculation():
        node1 = Node(1, 1)
        node2 = Node(4, 4)
        assert LPAStar.H(node1, node2) == math.sqrt(3*3 + 3*3)
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:50: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      29      0   100%
---------------------------------
TOTAL           287     48    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_heuristic_calculation - NameError: name 'path' is no...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_heuristic_calculation():
    node1 = Node(1, 1)
    node2 = Node(4, 4)
    assert LPAStar.H(node1, node2) == math.sqrt(3*3 + 3*3)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import math
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_get_neighbours():</span>
<span class="diff-added">+     node = Node(2, 2)</span>
<span class="diff-added">+     neighbours = LPAStar(node).get_neighbours(node)</span>
<span class="diff-added">+     assert len(neighbours) == 4</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_get_neighbours ______________________________

    def test_get_neighbours():
        node = Node(2, 2)
>       neighbours = LPAStar(node).get_neighbours(node)

test_app.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <app.LPAStar object at 0x76bad4906a80>, grid = Node(2, 2)

    def __init__(self, grid):
        # Store the original grid and work on a copy.
>       self.original_grid = [row[:] for row in grid]
E       TypeError: 'Node' object is not iterable

app.py:162: TypeError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      28      2    93%
---------------------------------
TOTAL           286     50    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_get_neighbours - TypeError: 'Node' object is not ite...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_get_neighbours():
    node = Node(2, 2)
    neighbours = LPAStar(node).get_neighbours(node)
    assert len(neighbours) == 4
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_clear_path_display():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     path = [start, goal]</span>
<span class="diff-added">+     planner.clear_path_display(path)</span>
<span class="diff-added">+     for node in path:</span>
<span class="diff-added">+         assert planner.grid[node.x][node.y] != 3</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
___________________________ test_clear_path_display ____________________________

    def test_clear_path_display():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        start = Node(0, 0)
        goal = Node(4, 4)
        path = [start, goal]
>       planner.clear_path_display(path)

test_app.py:50: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <app.LPAStar object at 0x7c2384bfe2a0>, path = [Node(0, 0), Node(4, 4)]

    def clear_path_display(self, path):
        for node in path:
            if self.grid[node.x][node.y] == 1:  # discovered obstacle; leave it as obstacle
                self.grid[node.x][node.y] = 2  # mark as explored but not a path
>       self.grid[self.start.x][self.start.y] = 3
E       AttributeError: 'NoneType' object has no attribute 'x'

app.py:276: AttributeError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      33      3    91%
---------------------------------
TOTAL           291     51    82%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_clear_path_display - AttributeError: 'NoneType' obje...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_clear_path_display():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    start = Node(0, 0)
    goal = Node(4, 4)
    path = [start, goal]
    planner.clear_path_display(path)
    for node in path:
        assert planner.grid[node.x][node.y] != 3
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_update_path_display():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     path = [start, goal]</span>
<span class="diff-added">+     planner.update_path_display(path)</span>
<span class="diff-added">+     for node in path:</span>
<span class="diff-added">+         assert planner.grid[node.x][node.y] == 3</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
___________________________ test_update_path_display ___________________________

    def test_update_path_display():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        start = Node(0, 0)
        goal = Node(4, 4)
        path = [start, goal]
        planner.update_path_display(path)
        for node in path:
            assert planner.grid[node.x][node.y] == 3
    
>       assert path == []
E       assert [Node(0, 0), Node(4, 4)] == []
E         
E         Left contains 2 more items, first extra item: Node(0, 0)
E         Use -v to get more diff

test_app.py:54: AssertionError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      33      0   100%
---------------------------------
TOTAL           291     48    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_update_path_display - assert [Node(0, 0), Node(4, 4)...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_update_path_display():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    start = Node(0, 0)
    goal = Node(4, 4)
    path = [start, goal]
    planner.update_path_display(path)
    for node in path:
        assert planner.grid[node.x][node.y] == 3
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ from app import make_grid</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________________________ test_make_grid ________________________________

    def test_make_grid():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        make_grid(grid)
        assert grid == [[0 for _ in range(5)] for _ in range(5)]
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:50: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      29      0   100%
---------------------------------
TOTAL           287     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_make_grid - NameError: name 'path' is not defined
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import make_grid
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ from app import print_path</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_print_path(capsys):</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_______________________________ test_print_path ________________________________

capsys = <_pytest.capture.CaptureFixture object at 0x70fee76fed20>

    def test_print_path(capsys):
        grid = [[0 for _ in range(5)] for _ in range(5)]
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1
        found, path = planner.plan(start, goal)
        print_path(path, start, goal, grid)
        captured = capsys.readouterr()
        assert "Path from start to goal:" in captured.out
    
>       assert path == []
E       assert [Node(4, 4), ...de(0, 3), ...] == []
E         
E         Left contains 9 more items, first extra item: Node(4, 4)
E         Use -v to get more diff

test_app.py:56: AssertionError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     44    83%
test_app.py      35      0   100%
---------------------------------
TOTAL           293     44    85%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_print_path - assert [Node(4, 4), ...de(0, 3), ...] =...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capsys):
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    print_path(path, start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import print_path
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_get_neighbours():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     node = Node(2, 2)</span>
<span class="diff-added">+     neighbours = planner.get_neighbours(node)</span>
<span class="diff-added">+     assert len(neighbours) == 4</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_get_neighbours ______________________________

    def test_get_neighbours():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        node = Node(2, 2)
        neighbours = planner.get_neighbours(node)
>       assert len(neighbours) == 4
E       assert 0 == 4
E        +  where 0 = len([])

test_app.py:49: AssertionError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      30      1    97%
---------------------------------
TOTAL           288     49    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_get_neighbours - assert 0 == 4
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_get_neighbours():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    node = Node(2, 2)
    neighbours = planner.get_neighbours(node)
    assert len(neighbours) == 4
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_clear_path_display():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     path = [start, goal]</span>
<span class="diff-added">+     planner.clear_path_display(path)</span>
<span class="diff-added">+     for node in path:</span>
<span class="diff-added">+         assert planner.grid[node.x][node.y] != 3</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
___________________________ test_clear_path_display ____________________________

    def test_clear_path_display():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        start = Node(0, 0)
        goal = Node(4, 4)
        path = [start, goal]
>       planner.clear_path_display(path)

test_app.py:50: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <app.LPAStar object at 0x7dfaa0219af0>, path = [Node(0, 0), Node(4, 4)]

    def clear_path_display(self, path):
        for node in path:
            if self.grid[node.x][node.y] == 1:  # discovered obstacle; leave it as obstacle
                self.grid[node.x][node.y] = 2  # mark as explored but not a path
>       self.grid[self.start.x][self.start.y] = 3
E       AttributeError: 'NoneType' object has no attribute 'x'

app.py:276: AttributeError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      33      3    91%
---------------------------------
TOTAL           291     51    82%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_clear_path_display - AttributeError: 'NoneType' obje...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_clear_path_display():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    start = Node(0, 0)
    goal = Node(4, 4)
    path = [start, goal]
    planner.clear_path_display(path)
    for node in path:
        assert planner.grid[node.x][node.y] != 3
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_update_path_display():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     path = [start, goal]</span>
<span class="diff-added">+     planner.update_path_display(path)</span>
<span class="diff-added">+     for node in path:</span>
<span class="diff-added">+         assert planner.grid[node.x][node.y] == 3</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
___________________________ test_update_path_display ___________________________

    def test_update_path_display():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        planner = LPAStar(grid)
        start = Node(0, 0)
        goal = Node(4, 4)
        path = [start, goal]
        planner.update_path_display(path)
        for node in path:
            assert planner.grid[node.x][node.y] == 3
    
>       assert path == []
E       assert [Node(0, 0), Node(4, 4)] == []
E         
E         Left contains 2 more items, first extra item: Node(0, 0)
E         Use -v to get more diff

test_app.py:54: AssertionError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      33      0   100%
---------------------------------
TOTAL           291     48    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_update_path_display - assert [Node(0, 0), Node(4, 4)...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_update_path_display():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    planner = LPAStar(grid)
    start = Node(0, 0)
    goal = Node(4, 4)
    path = [start, goal]
    planner.update_path_display(path)
    for node in path:
        assert planner.grid[node.x][node.y] == 3
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import math</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_heuristic_calculation():</span>
<span class="diff-added">+     node1 = Node(1, 1)</span>
<span class="diff-added">+     node2 = Node(4, 4)</span>
<span class="diff-added">+     assert LPAStar.H(node1, node2) == math.sqrt(3**2 + 3**2)</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
__________________________ test_heuristic_calculation __________________________

    def test_heuristic_calculation():
        node1 = Node(1, 1)
        node2 = Node(4, 4)
        assert LPAStar.H(node1, node2) == math.sqrt(3**2 + 3**2)
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:50: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      29      0   100%
---------------------------------
TOTAL           287     48    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_heuristic_calculation - NameError: name 'path' is no...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_heuristic_calculation():
    node1 = Node(1, 1)
    node2 = Node(4, 4)
    assert LPAStar.H(node1, node2) == math.sqrt(3**2 + 3**2)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import math
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ from app import make_grid</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_make_grid():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     make_grid(grid)</span>
<span class="diff-added">+     assert grid == [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________________________ test_make_grid ________________________________

    def test_make_grid():
        grid = [[0 for _ in range(5)] for _ in range(5)]
        make_grid(grid)
        assert grid == [[0 for _ in range(5)] for _ in range(5)]
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:50: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      29      0   100%
---------------------------------
TOTAL           287     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_make_grid - NameError: name 'path' is not defined
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_make_grid():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    make_grid(grid)
    assert grid == [[0 for _ in range(5)] for _ in range(5)]
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import make_grid
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ from app import print_path</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_print_path(capsys):</span>
<span class="diff-added">+     # Test with a valid path</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Test with an empty path</span>
<span class="diff-added">+     print_path([], start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Test with no path found</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     grid[2][2] = 1  # Add an obstacle</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capsys.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_______________________________ test_print_path ________________________________

capsys = <_pytest.capture.CaptureFixture object at 0x753a03fee720>

    def test_print_path(capsys):
        # Test with a valid path
        grid = [[0 for _ in range(5)] for _ in range(5)]
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1
        found, path = planner.plan(start, goal)
        print_path(path, start, goal, grid)
        captured = capsys.readouterr()
        assert "Path from start to goal:" in captured.out
    
        # Test with an empty path
        print_path([], start, goal, grid)
        captured = capsys.readouterr()
        assert "Path from start to goal:" in captured.out
    
        # Test with no path found
        planner = LPAStar(grid)
        planner.max_time_step = 1
        grid[2][2] = 1  # Add an obstacle
        found, path = planner.plan(start, goal)
        print_path(path, start, goal, grid)
        captured = capsys.readouterr()
        assert "Path from start to goal:" in captured.out
    
>       assert path == []
E       assert [Node(4, 4), ...de(0, 3), ...] == []
E         
E         Left contains 9 more items, first extra item: Node(4, 4)
E         Use -v to get more diff

test_app.py:71: AssertionError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     44    83%
test_app.py      45      0   100%
---------------------------------
TOTAL           303     44    85%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_print_path - assert [Node(4, 4), ...de(0, 3), ...] =...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capsys):
    # Test with a valid path
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    print_path(path, start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
    
    # Test with an empty path
    print_path([], start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
    
    # Test with no path found
    planner = LPAStar(grid)
    planner.max_time_step = 1
    grid[2][2] = 1  # Add an obstacle
    found, path = planner.plan(start, goal)
    print_path(path, start, goal, grid)
    captured = capsys.readouterr()
    assert "Path from start to goal:" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import print_path
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ import pytest</span>
<span class="diff-added">+ from app import LazyPQ, Node</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 0)</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node)</span>
<span class="diff-added">+     pq.remove(node)</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.top()</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">      assert path == []</span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
_____________________________ test_lazy_pq_remove ______________________________

    def test_lazy_pq_remove():
        pq = LazyPQ()
        node = Node(0, 0)
        pq.insert(node, 0)
        assert pq.is_element_in_struct(node)
        pq.remove(node)
        assert not pq.is_element_in_struct(node)
        with pytest.raises(KeyError):
            pq.top()
    
>       assert path == []
E       NameError: name 'path' is not defined

test_app.py:56: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      35      0   100%
---------------------------------
TOTAL           293     47    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_pq_remove - NameError: name 'path' is not defined
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 0)
    assert pq.is_element_in_struct(node)
    pq.remove(node)
    assert not pq.is_element_in_struct(node)
    with pytest.raises(KeyError):
        pq.top()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">import pytest
from app import LazyPQ, Node
</code></pre></div>
                    </details>
                </td>
            </tr>
            
        </table>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    </body>
    </html>
    