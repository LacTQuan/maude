
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Test Results</title>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-okaidia.min.css" rel="stylesheet" />
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin: 20px;
            }
            table {
                border-collapse: collapse;
                width: 100%;
                box-shadow: 0 2px 3px rgba(0,0,0,0.1);
            }
            th, td {
                border: 1px solid #ddd;
                text-align: left;
                padding: 8px;
            }
            th {
                background-color: #f2f2f2;
            }
            tr:nth-child(even) {
                background-color: #f9f9f9;
            }
            .status-pass {
                color: green;
            }
            .status-fail {
                color: red;
            }
            pre {
                background-color: #282c34 !important;
                color: #ffffff !important;
                padding: 10px;
                border-radius: 5px;
                overflow-x: auto;
                white-space: pre-wrap;
                font-family: 'Courier New', Courier, monospace;
                font-size: 1.1em;  /* Slightly larger font size */
            }
        </style>
    </head>
    <body>
        <table>
            <tr>
                <th>Status</th>
                <th>Reason</th>
                <th>Exit Code</th>
                <th>Language</th>
                <th>Modified Test File</th>
                <th>Details</th>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_dynamic_obstacles():</span>
<span class="diff-added">+     # Create a 5x5 grid with no obstacles.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Set dynamic obstacles to be discovered over time.</span>
<span class="diff-added">+     time_discovered_obstacles = {</span>
<span class="diff-added">+         1: [Node(1, 1)],</span>
<span class="diff-added">+         2: [Node(2, 2)],</span>
<span class="diff-added">+     }</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, time_discovered_obstacles)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that a path was found despite the dynamic obstacles.</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     assert len(path) > 0</span>
<span class="diff-added">+     assert compare_coordinates(path[-1], goal)</span>
<span class="diff-added">+ </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
____________________________ test_dynamic_obstacles ____________________________

    def test_dynamic_obstacles():
        # Create a 5x5 grid with no obstacles.
        grid = [[0 for _ in range(5)] for _ in range(5)]
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1  # limit iterations for testing
    
        # Set dynamic obstacles to be discovered over time.
        time_discovered_obstacles = {
            1: [Node(1, 1)],
            2: [Node(2, 2)],
        }
        planner.set_dynamic_obstacles(True, time_discovered_obstacles)
    
        found, path = planner.plan(start, goal)
    
        # Assert that a path was found despite the dynamic obstacles.
        assert found is True
        assert len(path) > 0
>       assert compare_coordinates(path[-1], goal)
E       assert False
E        +  where False = compare_coordinates(Node(0, 0), Node(4, 4))

test_app.py:68: AssertionError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 1 2 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     39    85%
test_app.py      38      0   100%
---------------------------------
TOTAL           296     39    87%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_dynamic_obstacles - assert False
========================= 1 failed, 2 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_dynamic_obstacles():
    # Create a 5x5 grid with no obstacles.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    # Set dynamic obstacles to be discovered over time.
    time_discovered_obstacles = {
        1: [Node(1, 1)],
        2: [Node(2, 2)],
    }
    planner.set_dynamic_obstacles(True, time_discovered_obstacles)
    
    found, path = planner.plan(start, goal)
    
    # Assert that a path was found despite the dynamic obstacles.
    assert found is True
    assert len(path) > 0
    assert compare_coordinates(path[-1], goal)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_pop_empty():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.pop()</span>
<span class="diff-added">+ </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
____________________________ test_lazy_pq_pop_empty ____________________________

    def test_lazy_pq_pop_empty():
>       pq = LazyPQ()
E       NameError: name 'LazyPQ' is not defined

test_app.py:49: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      30      2    93%
---------------------------------
TOTAL           288     50    83%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_pq_pop_empty - NameError: name 'LazyPQ' is not ...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_pop_empty():
    pq = LazyPQ()
    with pytest.raises(KeyError):
        pq.pop()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_insert_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.insert(node1, 1)</span>
<span class="diff-added">+     pq.insert(node2, 2)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert not pq.empty()</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.remove(node1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert pq.is_element_in_struct(node1) is False</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node2) is True</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.pop()  # Should pop node2</span>
<span class="diff-added">+     assert pq.empty()</span>
<span class="diff-added">+ </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
__________________________ test_lazy_pq_insert_remove __________________________

    def test_lazy_pq_insert_remove():
>       pq = LazyPQ()
E       NameError: name 'LazyPQ' is not defined

test_app.py:49: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      38     10    74%
---------------------------------
TOTAL           296     58    80%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_pq_insert_remove - NameError: name 'LazyPQ' is ...
========================= 1 failed, 2 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_insert_remove():
    pq = LazyPQ()
    node1 = Node(0, 0)
    node2 = Node(1, 1)
    
    pq.insert(node1, 1)
    pq.insert(node2, 2)
    
    assert not pq.empty()
    
    pq.remove(node1)
    
    assert pq.is_element_in_struct(node1) is False
    assert pq.is_element_in_struct(node2) is True
    
    pq.pop()  # Should pop node2
    assert pq.empty()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_start_equals_goal():</span>
<span class="diff-added">+     # Create a 5x5 grid with no obstacles.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(2, 2)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that a path was found and it is just the start node.</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     assert len(path) == 1</span>
<span class="diff-added">+     assert compare_coordinates(path[0], start)</span>
<span class="diff-added">+ </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ...                                                          [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      36      0   100%
---------------------------------
TOTAL           294     48    84%
Coverage XML written to file coverage.xml


============================== 3 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_start_equals_goal():
    # Create a 5x5 grid with no obstacles.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(2, 2)
    goal = Node(2, 2)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that a path was found and it is just the start node.
    assert found is True
    assert len(path) == 1
    assert compare_coordinates(path[0], start)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-PASS">PASS</td>
                <td></td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-added">+ from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_pq_pop_empty():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.pop()</span>
<span class="diff-added">+ </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ...                                                          [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      31      0   100%
---------------------------------
TOTAL           289     47    84%
Coverage XML written to file coverage.xml


============================== 3 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_pop_empty():
    pq = LazyPQ()
    with pytest.raises(KeyError):
        pq.pop()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LazyPQ
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_pq_insert_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.insert(node1, 1)</span>
<span class="diff-added">+     pq.insert(node2, 2)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert not pq.empty()</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.remove(node1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert pq.is_element_in_struct(node1) is False</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node2) is True</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.pop()  # Should pop node2</span>
<span class="diff-added">+     assert pq.empty()</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      43      0   100%
---------------------------------
TOTAL           301     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_insert_remove():
    pq = LazyPQ()
    node1 = Node(0, 0)
    node2 = Node(1, 1)
    
    pq.insert(node1, 1)
    pq.insert(node2, 2)
    
    assert not pq.empty()
    
    pq.remove(node1)
    
    assert pq.is_element_in_struct(node1) is False
    assert pq.is_element_in_struct(node2) is True
    
    pq.pop()  # Should pop node2
    assert pq.empty()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LazyPQ
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_start_equals_goal():</span>
<span class="diff-added">+     # Create a 5x5 grid with no obstacles.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(2, 2)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that a path was found and it is just the start node.</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     assert len(path) == 1</span>
<span class="diff-added">+     assert compare_coordinates(path[0], start)</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      41      0   100%
---------------------------------
TOTAL           299     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_start_equals_goal():
    # Create a 5x5 grid with no obstacles.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(2, 2)
    goal = Node(2, 2)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that a path was found and it is just the start node.
    assert found is True
    assert len(path) == 1
    assert compare_coordinates(path[0], start)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_pq_insert_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.insert(node1, 1)</span>
<span class="diff-added">+     pq.insert(node2, 2)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert not pq.empty()</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.remove(node1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert pq.is_element_in_struct(node1) is False</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node2) is True</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.pop()  # Should pop node2</span>
<span class="diff-added">+     assert pq.empty()</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      43      0   100%
---------------------------------
TOTAL           301     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_insert_remove():
    pq = LazyPQ()
    node1 = Node(0, 0)
    node2 = Node(1, 1)
    
    pq.insert(node1, 1)
    pq.insert(node2, 2)
    
    assert not pq.empty()
    
    pq.remove(node1)
    
    assert pq.is_element_in_struct(node1) is False
    assert pq.is_element_in_struct(node2) is True
    
    pq.pop()  # Should pop node2
    assert pq.empty()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_start_equals_goal():</span>
<span class="diff-added">+     # Create a 5x5 grid with no obstacles.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(2, 2)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that a path was found and it is just the start node.</span>
<span class="diff-added">+     assert found is True</span>
<span class="diff-added">+     assert len(path) == 1</span>
<span class="diff-added">+     assert compare_coordinates(path[0], start)</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      41      0   100%
---------------------------------
TOTAL           299     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_start_equals_goal():
    # Create a 5x5 grid with no obstacles.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(2, 2)
    goal = Node(2, 2)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that a path was found and it is just the start node.
    assert found is True
    assert len(path) == 1
    assert compare_coordinates(path[0], start)
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_grid_fully_blocked():</span>
<span class="diff-added">+     # Create a 5x5 grid fully blocked by obstacles.</span>
<span class="diff-added">+     grid = [[1 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      40      0   100%
---------------------------------
TOTAL           298     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_grid_fully_blocked():
    # Create a 5x5 grid fully blocked by obstacles.
    grid = [[1 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_goal_unreachable():</span>
<span class="diff-added">+     # Create a 5x5 grid with obstacles blocking the path to the goal.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     grid[1][1] = 1  # Block the path</span>
<span class="diff-added">+     grid[1][2] = 1  # Block the path</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ..F.                                                         [100%]

=================================== FAILURES ===================================
____________________________ test_goal_unreachable _____________________________

    def test_goal_unreachable():
        # Create a 5x5 grid with obstacles blocking the path to the goal.
        grid = [[0 for _ in range(5)] for _ in range(5)]
        grid[1][1] = 1  # Block the path
        grid[1][2] = 1  # Block the path
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1  # limit iterations for testing
    
        found, path = planner.plan(start, goal)
    
        # Assert that no path can be found.
>       assert found is False
E       assert True is False

test_app.py:62: AssertionError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 1 1 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      42      1    98%
---------------------------------
TOTAL           300     48    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_goal_unreachable - assert True is False
========================= 1 failed, 3 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_goal_unreachable():
    # Create a 5x5 grid with obstacles blocking the path to the goal.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    grid[1][1] = 1  # Block the path
    grid[1][2] = 1  # Block the path
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_pq_insert_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.insert(node1, 1)</span>
<span class="diff-added">+     pq.insert(node2, 2)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert not pq.empty()</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.remove(node1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert pq.is_element_in_struct(node1) is False</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node2) is True</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.pop()  # Should pop node2</span>
<span class="diff-added">+     assert pq.empty()</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      43      0   100%
---------------------------------
TOTAL           301     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_insert_remove():
    pq = LazyPQ()
    node1 = Node(0, 0)
    node2 = Node(1, 1)
    
    pq.insert(node1, 1)
    pq.insert(node2, 2)
    
    assert not pq.empty()
    
    pq.remove(node1)
    
    assert pq.is_element_in_struct(node1) is False
    assert pq.is_element_in_struct(node2) is True
    
    pq.pop()  # Should pop node2
    assert pq.empty()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_grid_fully_blocked():</span>
<span class="diff-added">+     # Create a 5x5 grid fully blocked by obstacles.</span>
<span class="diff-added">+     grid = [[1 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      40      0   100%
---------------------------------
TOTAL           298     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_grid_fully_blocked():
    # Create a 5x5 grid fully blocked by obstacles.
    grid = [[1 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_goal_unreachable():</span>
<span class="diff-added">+     # Create a 5x5 grid with obstacles blocking the path to the goal.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     grid[1][1] = 1  # Block the path</span>
<span class="diff-added">+     grid[1][2] = 1  # Block the path</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ..F.                                                         [100%]

=================================== FAILURES ===================================
____________________________ test_goal_unreachable _____________________________

    def test_goal_unreachable():
        # Create a 5x5 grid with obstacles blocking the path to the goal.
        grid = [[0 for _ in range(5)] for _ in range(5)]
        grid[1][1] = 1  # Block the path
        grid[1][2] = 1  # Block the path
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1  # limit iterations for testing
    
        found, path = planner.plan(start, goal)
    
        # Assert that no path can be found.
>       assert found is False
E       assert True is False

test_app.py:62: AssertionError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 1 1 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      42      1    98%
---------------------------------
TOTAL           300     48    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_goal_unreachable - assert True is False
========================= 1 failed, 3 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_goal_unreachable():
    # Create a 5x5 grid with obstacles blocking the path to the goal.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    grid[1][1] = 1  # Block the path
    grid[1][2] = 1  # Block the path
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_pq_insert_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.insert(node1, 1)</span>
<span class="diff-added">+     pq.insert(node2, 2)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert not pq.empty()</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.remove(node1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert pq.is_element_in_struct(node1) is False</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node2) is True</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.pop()  # Should pop node2</span>
<span class="diff-added">+     assert pq.empty()</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      43      0   100%
---------------------------------
TOTAL           301     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_insert_remove():
    pq = LazyPQ()
    node1 = Node(0, 0)
    node2 = Node(1, 1)
    
    pq.insert(node1, 1)
    pq.insert(node2, 2)
    
    assert not pq.empty()
    
    pq.remove(node1)
    
    assert pq.is_element_in_struct(node1) is False
    assert pq.is_element_in_struct(node2) is True
    
    pq.pop()  # Should pop node2
    assert pq.empty()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_grid_fully_blocked():</span>
<span class="diff-added">+     # Create a 5x5 grid fully blocked by obstacles.</span>
<span class="diff-added">+     grid = [[1 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      40      0   100%
---------------------------------
TOTAL           298     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_grid_fully_blocked():
    # Create a 5x5 grid fully blocked by obstacles.
    grid = [[1 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_goal_unreachable():</span>
<span class="diff-added">+     # Create a 5x5 grid with obstacles blocking the path to the goal.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     grid[1][1] = 1  # Block the path</span>
<span class="diff-added">+     grid[1][2] = 1  # Block the path</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ..F.                                                         [100%]

=================================== FAILURES ===================================
____________________________ test_goal_unreachable _____________________________

    def test_goal_unreachable():
        # Create a 5x5 grid with obstacles blocking the path to the goal.
        grid = [[0 for _ in range(5)] for _ in range(5)]
        grid[1][1] = 1  # Block the path
        grid[1][2] = 1  # Block the path
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1  # limit iterations for testing
    
        found, path = planner.plan(start, goal)
    
        # Assert that no path can be found.
>       assert found is False
E       assert True is False

test_app.py:62: AssertionError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 1 1 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      42      1    98%
---------------------------------
TOTAL           300     48    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_goal_unreachable - assert True is False
========================= 1 failed, 3 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_goal_unreachable():
    # Create a 5x5 grid with obstacles blocking the path to the goal.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    grid[1][1] = 1  # Block the path
    grid[1][2] = 1  # Block the path
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_pq_insert_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.insert(node1, 1)</span>
<span class="diff-added">+     pq.insert(node2, 2)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert not pq.empty()</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.remove(node1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert pq.is_element_in_struct(node1) is False</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node2) is True</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.pop()  # Should pop node2</span>
<span class="diff-added">+     assert pq.empty()</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      43      0   100%
---------------------------------
TOTAL           301     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_insert_remove():
    pq = LazyPQ()
    node1 = Node(0, 0)
    node2 = Node(1, 1)
    
    pq.insert(node1, 1)
    pq.insert(node2, 2)
    
    assert not pq.empty()
    
    pq.remove(node1)
    
    assert pq.is_element_in_struct(node1) is False
    assert pq.is_element_in_struct(node2) is True
    
    pq.pop()  # Should pop node2
    assert pq.empty()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_grid_fully_blocked():</span>
<span class="diff-added">+     # Create a 5x5 grid fully blocked by obstacles.</span>
<span class="diff-added">+     grid = [[1 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      40      0   100%
---------------------------------
TOTAL           298     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_grid_fully_blocked():
    # Create a 5x5 grid fully blocked by obstacles.
    grid = [[1 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_goal_unreachable():</span>
<span class="diff-added">+     # Create a 5x5 grid with obstacles blocking the path to the goal.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     grid[1][1] = 1  # Block the path</span>
<span class="diff-added">+     grid[1][2] = 1  # Block the path</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ..F.                                                         [100%]

=================================== FAILURES ===================================
____________________________ test_goal_unreachable _____________________________

    def test_goal_unreachable():
        # Create a 5x5 grid with obstacles blocking the path to the goal.
        grid = [[0 for _ in range(5)] for _ in range(5)]
        grid[1][1] = 1  # Block the path
        grid[1][2] = 1  # Block the path
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1  # limit iterations for testing
    
        found, path = planner.plan(start, goal)
    
        # Assert that no path can be found.
>       assert found is False
E       assert True is False

test_app.py:62: AssertionError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 1 1 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      42      1    98%
---------------------------------
TOTAL           300     48    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_goal_unreachable - assert True is False
========================= 1 failed, 3 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_goal_unreachable():
    # Create a 5x5 grid with obstacles blocking the path to the goal.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    grid[1][1] = 1  # Block the path
    grid[1][2] = 1  # Block the path
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_pq_insert_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node1 = Node(0, 0)</span>
<span class="diff-added">+     node2 = Node(1, 1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.insert(node1, 1)</span>
<span class="diff-added">+     pq.insert(node2, 2)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert not pq.empty()</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.remove(node1)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     assert pq.is_element_in_struct(node1) is False</span>
<span class="diff-added">+     assert pq.is_element_in_struct(node2) is True</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     pq.pop()  # Should pop node2</span>
<span class="diff-added">+     assert pq.empty()</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      43      0   100%
---------------------------------
TOTAL           301     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_pq_insert_remove():
    pq = LazyPQ()
    node1 = Node(0, 0)
    node2 = Node(1, 1)
    
    pq.insert(node1, 1)
    pq.insert(node2, 2)
    
    assert not pq.empty()
    
    pq.remove(node1)
    
    assert pq.is_element_in_struct(node1) is False
    assert pq.is_element_in_struct(node2) is True
    
    pq.pop()  # Should pop node2
    assert pq.empty()
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_grid_fully_blocked():</span>
<span class="diff-added">+     # Create a 5x5 grid fully blocked by obstacles.</span>
<span class="diff-added">+     grid = [[1 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      40      0   100%
---------------------------------
TOTAL           298     47    84%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_grid_fully_blocked():
    # Create a 5x5 grid fully blocked by obstacles.
    grid = [[1 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  import math</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_goal_unreachable():</span>
<span class="diff-added">+     # Create a 5x5 grid with obstacles blocking the path to the goal.</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     grid[1][1] = 1  # Block the path</span>
<span class="diff-added">+     grid[1][2] = 1  # Block the path</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     </span>
<span class="diff-added">+     # Assert that no path can be found.</span>
<span class="diff-added">+     assert found is False</span>
<span class="diff-added">+     assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_pq_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ..F.                                                         [100%]

=================================== FAILURES ===================================
____________________________ test_goal_unreachable _____________________________

    def test_goal_unreachable():
        # Create a 5x5 grid with obstacles blocking the path to the goal.
        grid = [[0 for _ in range(5)] for _ in range(5)]
        grid[1][1] = 1  # Block the path
        grid[1][2] = 1  # Block the path
        start = Node(0, 0)
        goal = Node(4, 4)
        planner = LPAStar(grid)
        planner.max_time_step = 1  # limit iterations for testing
    
        found, path = planner.plan(start, goal)
    
        # Assert that no path can be found.
>       assert found is False
E       assert True is False

test_app.py:62: AssertionError
----------------------------- Captured stdout call -----------------------------
3 0 0 0 0
0 1 1 0 0
0 0 0 0 0
0 0 0 0 0
0 0 0 0 0

3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3

Node(4, 4) cost: 0.0, id: 4004, pid: 19
Node(3, 4) cost: 0.0, id: 19, pid: 14
Node(2, 4) cost: 0.0, id: 14, pid: 9
Node(1, 4) cost: 0.0, id: 9, pid: 4
Node(0, 4) cost: 0.0, id: 4, pid: 3
Node(0, 3) cost: 0.0, id: 3, pid: 2
Node(0, 2) cost: 0.0, id: 2, pid: 1
Node(0, 1) cost: 0.0, id: 1, pid: 0
Node(0, 0) cost: 0.0, id: 0, pid: 0
3 3 3 3 3
2 1 1 2 3
2 2 2 2 3
2 2 2 2 3
2 2 2 2 3


---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     47    82%
test_app.py      42      1    98%
---------------------------------
TOTAL           300     48    84%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_goal_unreachable - assert True is False
========================= 1 failed, 3 passed in 0.08s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_goal_unreachable():
    # Create a 5x5 grid with obstacles blocking the path to the goal.
    grid = [[0 for _ in range(5)] for _ in range(5)]
    grid[1][1] = 1  # Block the path
    grid[1][2] = 1  # Block the path
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    
    found, path = planner.plan(start, goal)
    
    # Assert that no path can be found.
    assert found is False
    assert path == []
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
        </table>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    </body>
    </html>
    