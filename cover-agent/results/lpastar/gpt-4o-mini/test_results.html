
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Test Results</title>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-okaidia.min.css" rel="stylesheet" />
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin: 20px;
            }
            table {
                border-collapse: collapse;
                width: 100%;
                box-shadow: 0 2px 3px rgba(0,0,0,0.1);
            }
            th, td {
                border: 1px solid #ddd;
                text-align: left;
                padding: 8px;
            }
            th {
                background-color: #f2f2f2;
            }
            tr:nth-child(even) {
                background-color: #f9f9f9;
            }
            .status-pass {
                color: green;
            }
            .status-fail {
                color: red;
            }
            pre {
                background-color: #282c34 !important;
                color: #ffffff !important;
                padding: 10px;
                border-radius: 5px;
                overflow-x: auto;
                white-space: pre-wrap;
                font-family: 'Courier New', Courier, monospace;
                font-size: 1.1em;  /* Slightly larger font size */
            }
        </style>
    </head>
    <body>
        <table>
            <tr>
                <th>Status</th>
                <th>Reason</th>
                <th>Exit Code</th>
                <th>Language</th>
                <th>Modified Test File</th>
                <th>Details</th>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 1)</span>
<span class="diff-added">+     pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-added">+     assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-added">+ </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ..F                                                          [100%]

=================================== FAILURES ===================================
________________ test_lazy_priority_queue_insert_existing_node _________________

    def test_lazy_priority_queue_insert_existing_node():
>       pq = LazyPQ()
E       NameError: name 'LazyPQ' is not defined

test_app.py:48: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     48    81%
test_app.py      31      4    87%
---------------------------------
TOTAL           289     52    82%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_priority_queue_insert_existing_node - NameError...
========================= 1 failed, 2 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_insert_existing_node():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 1)
    pq.insert(node, 2)  # Insert the same node with a different key
    assert pq.top().key == 2  # The key should be updated to the latest
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-PASS">PASS</td>
                <td></td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(4, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-added">+     assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-added">+ </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 3 items

test_app.py ...                                                          [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     34    87%
test_app.py      35      0   100%
---------------------------------
TOTAL           293     34    88%
Coverage XML written to file coverage.xml


============================== 3 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(0, 0)
    goal = Node(4, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is True  # Path should still be found despite the obstacle
    assert len(path) > 0  # Ensure that a path exists
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][2] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     34    87%
test_app.py      47      0   100%
---------------------------------
TOTAL           305     34    89%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][2] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_node_addition():</span>
<span class="diff-added">+     node1 = Node(1, 2)</span>
<span class="diff-added">+     node2 = Node(3, 4)</span>
<span class="diff-added">+     result = node1 + node2</span>
<span class="diff-added">+     assert result.x == 4  # Check x coordinate</span>
<span class="diff-added">+     assert result.y == 6  # Check y coordinate</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     34    87%
test_app.py      41      0   100%
---------------------------------
TOTAL           299     34    89%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_node_addition():
    node1 = Node(1, 2)
    node2 = Node(3, 4)
    result = node1 + node2
    assert result.x == 4  # Check x coordinate
    assert result.y == 6  # Check y coordinate
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_priority_queue_top_empty():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ..F.                                                         [100%]

=================================== FAILURES ===================================
______________________ test_lazy_priority_queue_top_empty ______________________

    def test_lazy_priority_queue_top_empty():
>       pq = LazyPQ()
E       NameError: name 'LazyPQ' is not defined

test_app.py:48: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     39    85%
test_app.py      39      2    95%
---------------------------------
TOTAL           297     41    86%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_lazy_priority_queue_top_empty - NameError: name 'Laz...
========================= 1 failed, 3 passed in 0.06s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_top_empty():
    pq = LazyPQ()
    with pytest.raises(KeyError):
        pq.top()  # Should raise KeyError since the queue is empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][1] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     39    85%
test_app.py      46      0   100%
---------------------------------
TOTAL           304     39    87%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_due_to_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][1] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_node_addition_negative_coordinates():</span>
<span class="diff-added">+     node1 = Node(-1, -2)</span>
<span class="diff-added">+     node2 = Node(-3, -4)</span>
<span class="diff-added">+     result = node1 + node2</span>
<span class="diff-added">+     assert result.x == -4  # Check x coordinate</span>
<span class="diff-added">+     assert result.y == -6  # Check y coordinate</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     39    85%
test_app.py      41      0   100%
---------------------------------
TOTAL           299     39    87%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_node_addition_negative_coordinates():
    node1 = Node(-1, -2)
    node2 = Node(-3, -4)
    result = node1 + node2
    assert result.x == -4  # Check x coordinate
    assert result.y == -6  # Check y coordinate
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Test failed</td>
                <td>1</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_print_path(capfd):</span>
<span class="diff-added">+     path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capfd.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+     assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ..F.                                                         [100%]

=================================== FAILURES ===================================
_______________________________ test_print_path ________________________________

capfd = <_pytest.capture.CaptureFixture object at 0x72f8ec516ab0>

    def test_print_path(capfd):
        path = [Node(0, 0), Node(1, 1), Node(2, 2)]
        start = Node(0, 0)
        goal = Node(2, 2)
        grid = [[0 for _ in range(5)] for _ in range(5)]
>       print_path(path, start, goal, grid)
E       NameError: name 'print_path' is not defined

test_app.py:52: NameError

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     34    87%
test_app.py      44      3    93%
---------------------------------
TOTAL           302     37    88%
Coverage XML written to file coverage.xml

=========================== short test summary info ============================
FAILED test_app.py::test_print_path - NameError: name 'print_path' is not def...
========================= 1 failed, 3 passed in 0.07s ==========================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capfd):
    path = [Node(0, 0), Node(1, 1), Node(2, 2)]
    start = Node(0, 0)
    goal = Node(2, 2)
    grid = [[0 for _ in range(5)] for _ in range(5)]
    print_path(path, start, goal, grid)
    captured = capfd.readouterr()
    assert "Path from start to goal:" in captured.out
    assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-PASS">PASS</td>
                <td></td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_print_path(capfd):</span>
<span class="diff-added">+     path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capfd.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+     assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 4 items

test_app.py ....                                                         [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     30    88%
test_app.py      45      0   100%
---------------------------------
TOTAL           303     30    90%
Coverage XML written to file coverage.xml


============================== 4 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path(capfd):
    path = [Node(0, 0), Node(1, 1), Node(2, 2)]
    start = Node(0, 0)
    goal = Node(2, 2)
    grid = [[0 for _ in range(5)] for _ in range(5)]
    print_path(path, start, goal, grid)
    captured = capfd.readouterr()
    assert "Path from start to goal:" in captured.out
    assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import print_path
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-PASS">PASS</td>
                <td></td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-added">+ from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_priority_queue_top_empty():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 5 items

test_app.py .....                                                        [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     29    89%
test_app.py      50      0   100%
---------------------------------
TOTAL           308     29    91%
Coverage XML written to file coverage.xml


============================== 5 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_top_empty():
    pq = LazyPQ()
    with pytest.raises(KeyError):
        pq.top()  # Should raise KeyError since the queue is empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LazyPQ
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][2] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 6 items

test_app.py ......                                                       [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     29    89%
test_app.py      62      0   100%
---------------------------------
TOTAL           320     29    91%
Coverage XML written to file coverage.xml


============================== 6 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][2] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">from app import LPAStar
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-PASS">PASS</td>
                <td></td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     with pytest.raises(KeyError):</span>
<span class="diff-added">+         pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 6 items

test_app.py ......                                                       [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     28    89%
test_app.py      54      0   100%
---------------------------------
TOTAL           312     28    91%
Coverage XML written to file coverage.xml


============================== 6 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_pop_empty():
    pq = LazyPQ()
    with pytest.raises(KeyError):
        pq.pop()  # Should raise KeyError since the queue is empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][1] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 7 items

test_app.py .......                                                      [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     33    87%
test_app.py      65      0   100%
---------------------------------
TOTAL           323     33    90%
Coverage XML written to file coverage.xml


============================== 7 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_due_to_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][1] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_node_addition_overflow():</span>
<span class="diff-added">+     node1 = Node(1000, 1000)</span>
<span class="diff-added">+     node2 = Node(1000, 1000)</span>
<span class="diff-added">+     result = node1 + node2</span>
<span class="diff-added">+     assert result.x == 2000  # Check x coordinate</span>
<span class="diff-added">+     assert result.y == 2000  # Check y coordinate</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 7 items

test_app.py .......                                                      [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     28    89%
test_app.py      60      0   100%
---------------------------------
TOTAL           318     28    91%
Coverage XML written to file coverage.xml


============================== 7 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_node_addition_overflow():
    node1 = Node(1000, 1000)
    node2 = Node(1000, 1000)
    result = node1 + node2
    assert result.x == 2000  # Check x coordinate
    assert result.y == 2000  # Check y coordinate
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_print_path_with_obstacles(capfd):</span>
<span class="diff-added">+     path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     grid[1][1] = 1  # Add an obstacle</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capfd.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+     assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 7 items

test_app.py .......                                                      [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     28    89%
test_app.py      64      0   100%
---------------------------------
TOTAL           322     28    91%
Coverage XML written to file coverage.xml


============================== 7 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path_with_obstacles(capfd):
    path = [Node(0, 0), Node(1, 1), Node(2, 2)]
    start = Node(0, 0)
    goal = Node(2, 2)
    grid = [[0 for _ in range(5)] for _ in range(5)]
    grid[1][1] = 1  # Add an obstacle
    print_path(path, start, goal, grid)
    captured = capfd.readouterr()
    assert "Path from start to goal:" in captured.out
    assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-PASS">PASS</td>
                <td></td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 1)</span>
<span class="diff-added">+     pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-added">+     assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 7 items

test_app.py .......                                                      [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      60      0   100%
---------------------------------
TOTAL           318     27    92%
Coverage XML written to file coverage.xml


============================== 7 passed in 0.06s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_insert_existing_node():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 1)
    pq.insert(node, 2)  # Insert the same node with a different key
    assert pq.top().key == 2  # The key should be updated to the latest
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][1] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      71      0   100%
---------------------------------
TOTAL           329     27    92%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_due_to_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][1] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][2] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      72      0   100%
---------------------------------
TOTAL           330     27    92%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][2] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_print_path_with_obstacles(capfd):</span>
<span class="diff-added">+     path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     grid[1][1] = 1  # Add an obstacle</span>
<span class="diff-added">+     print_path(path, start, goal, grid)</span>
<span class="diff-added">+     captured = capfd.readouterr()</span>
<span class="diff-added">+     assert "Path from start to goal:" in captured.out</span>
<span class="diff-added">+     assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      70      0   100%
---------------------------------
TOTAL           328     27    92%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_print_path_with_obstacles(capfd):
    path = [Node(0, 0), Node(1, 1), Node(2, 2)]
    start = Node(0, 0)
    goal = Node(2, 2)
    grid = [[0 for _ in range(5)] for _ in range(5)]
    grid[1][1] = 1  # Add an obstacle
    print_path(path, start, goal, grid)
    captured = capfd.readouterr()
    assert "Path from start to goal:" in captured.out
    assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][1] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      71      0   100%
---------------------------------
TOTAL           329     27    92%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_due_to_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][1] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][2] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      72      0   100%
---------------------------------
TOTAL           330     27    92%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][2] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_priority_queue_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 1)</span>
<span class="diff-added">+     pq.remove(node)  # Remove the node</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     32    88%
test_app.py      66      0   100%
---------------------------------
TOTAL           324     32    90%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 1)
    pq.remove(node)  # Remove the node
    assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_same_start_goal():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(2, 2)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True  # A path should be found since start and goal are the same</span>
<span class="diff-added">+     assert len(path) == 1  # Path should contain only the start/goal node</span>
<span class="diff-added">+     assert compare_coordinates(path[0], start)  # The path should be the start node</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      70      0   100%
---------------------------------
TOTAL           328     27    92%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_same_start_goal():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(2, 2)
    goal = Node(2, 2)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is True  # A path should be found since start and goal are the same
    assert len(path) == 1  # Path should contain only the start/goal node
    assert compare_coordinates(path[0], start)  # The path should be the start node
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][1] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     32    88%
test_app.py      71      0   100%
---------------------------------
TOTAL           329     32    90%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_due_to_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][1] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][2] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     29    89%
test_app.py      72      0   100%
---------------------------------
TOTAL           330     29    91%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][2] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lazy_priority_queue_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 1)</span>
<span class="diff-added">+     pq.remove(node)  # Remove the node</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      66      0   100%
---------------------------------
TOTAL           324     27    92%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 1)
    pq.remove(node)  # Remove the node
    assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_same_start_goal():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(2, 2)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True  # A path should be found since start and goal are the same</span>
<span class="diff-added">+     assert len(path) == 1  # Path should contain only the start/goal node</span>
<span class="diff-added">+     assert compare_coordinates(path[0], start)  # The path should be the start node</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     32    88%
test_app.py      70      0   100%
---------------------------------
TOTAL           328     32    90%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_same_start_goal():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(2, 2)
    goal = Node(2, 2)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is True  # A path should be found since start and goal are the same
    assert len(path) == 1  # Path should contain only the start/goal node
    assert compare_coordinates(path[0], start)  # The path should be the start node
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-PASS">PASS</td>
                <td></td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][1] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      71      0   100%
---------------------------------
TOTAL           329     27    92%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_due_to_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][1] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lpa_star_no_path_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][2] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 9 items

test_app.py .........                                                    [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      83      0   100%
---------------------------------
TOTAL           341     27    92%
Coverage XML written to file coverage.xml


============================== 9 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][2] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_priority_queue_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 1)</span>
<span class="diff-added">+     pq.remove(node)  # Remove the node</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 9 items

test_app.py .........                                                    [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      77      0   100%
---------------------------------
TOTAL           335     27    92%
Coverage XML written to file coverage.xml


============================== 9 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 1)
    pq.remove(node)  # Remove the node
    assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-added">+ def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][1] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 8 items

test_app.py ........                                                     [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     29    89%
test_app.py      82     10    88%
---------------------------------
TOTAL           340     39    89%
Coverage XML written to file coverage.xml


============================== 8 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_due_to_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][1] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.max_time_step = 1  # limit iterations for testing
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lpa_star_no_path_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][2] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 9 items

test_app.py .........                                                    [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      83      0   100%
---------------------------------
TOTAL           341     27    92%
Coverage XML written to file coverage.xml


============================== 9 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][2] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_priority_queue_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 1)</span>
<span class="diff-added">+     pq.remove(node)  # Remove the node</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 9 items

test_app.py .........                                                    [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      77      0   100%
---------------------------------
TOTAL           335     27    92%
Coverage XML written to file coverage.xml


============================== 9 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 1)
    pq.remove(node)  # Remove the node
    assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lpa_star_same_start_goal():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(2, 2)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True  # A path should be found since start and goal are the same</span>
<span class="diff-added">+     assert len(path) == 1  # Path should contain only the start/goal node</span>
<span class="diff-added">+     assert compare_coordinates(path[0], start)  # The path should be the start node</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 9 items

test_app.py .........                                                    [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      81      0   100%
---------------------------------
TOTAL           339     27    92%
Coverage XML written to file coverage.xml


============================== 9 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_same_start_goal():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(2, 2)
    goal = Node(2, 2)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is True  # A path should be found since start and goal are the same
    assert len(path) == 1  # Path should contain only the start/goal node
    assert compare_coordinates(path[0], start)  # The path should be the start node
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lpa_star_no_path_due_to_dynamic_obstacles():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     for i in range(5):</span>
<span class="diff-added">+         grid[i][2] = 1  # Create a wall</span>
<span class="diff-added">+     start = Node(0, 0)</span>
<span class="diff-added">+     goal = Node(0, 4)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is False  # No path should be found</span>
<span class="diff-added">+     assert path == []  # Path should be empty</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 9 items

test_app.py .........                                                    [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      83      0   100%
---------------------------------
TOTAL           341     27    92%
Coverage XML written to file coverage.xml


============================== 9 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_no_path_due_to_dynamic_obstacles():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    for i in range(5):
        grid[i][2] = 1  # Create a wall
    start = Node(0, 0)
    goal = Node(0, 4)
    planner = LPAStar(grid)
    planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is False  # No path should be found
    assert path == []  # Path should be empty
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lpa_star_same_start_goal():</span>
<span class="diff-added">+     grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-added">+     start = Node(2, 2)</span>
<span class="diff-added">+     goal = Node(2, 2)</span>
<span class="diff-added">+     planner = LPAStar(grid)</span>
<span class="diff-added">+     planner.max_time_step = 1</span>
<span class="diff-added">+     found, path = planner.plan(start, goal)</span>
<span class="diff-added">+     assert found is True  # A path should be found since start and goal are the same</span>
<span class="diff-added">+     assert len(path) == 1  # Path should contain only the start/goal node</span>
<span class="diff-added">+     assert compare_coordinates(path[0], start)  # The path should be the start node</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 9 items

test_app.py .........                                                    [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      81      0   100%
---------------------------------
TOTAL           339     27    92%
Coverage XML written to file coverage.xml


============================== 9 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lpa_star_same_start_goal():
    grid = [[0 for _ in range(5)] for _ in range(5)]
    start = Node(2, 2)
    goal = Node(2, 2)
    planner = LPAStar(grid)
    planner.max_time_step = 1
    found, path = planner.plan(start, goal)
    assert found is True  # A path should be found since start and goal are the same
    assert len(path) == 1  # Path should contain only the start/goal node
    assert compare_coordinates(path[0], start)  # The path should be the start node
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
            <tr>
                <td class="status-FAIL">FAIL</td>
                <td>Coverage did not increase</td>
                <td>0</td>
                <td>python</td>
                <td>
                    <details>
                        <summary>View Full Code</summary>
                        <pre><code><span class="diff-unchanged">  #!/usr/bin/env python3</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  Unit tests for the LPAStar planner using pytest.</span>
<span class="diff-unchanged">  Two tests are provided:</span>
<span class="diff-unchanged">    - test_path_found: a clear grid where a valid path is expected.</span>
<span class="diff-unchanged">    - test_no_path: a grid blocked by obstacles where no valid path exists.</span>
<span class="diff-unchanged">  """</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  from app import LPAStar, Node, check_outside_boundary, compare_coordinates</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  # For testing purposes, we override the sleep to avoid delays.</span>
<span class="diff-unchanged">  import time</span>
<span class="diff-unchanged">  time.sleep = lambda s: None  # disable sleep during tests</span>
<span class="diff-unchanged">  from app import LazyPQ</span>
<span class="diff-unchanged">  from app import print_path</span>
<span class="diff-unchanged">  import pytest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_path_found():</span>
<span class="diff-unchanged">      # Create a 5x5 grid with no obstacles.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      # For faster testing, reduce the number of iterations.</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # Assert that a path was found.</span>
<span class="diff-unchanged">      assert found is True</span>
<span class="diff-unchanged">      # Check that the path starts at the start node.</span>
<span class="diff-unchanged">      assert path[-1] == start</span>
<span class="diff-unchanged">      # Check that the last node in the path matches the goal (by coordinates).</span>
<span class="diff-unchanged">      assert compare_coordinates(path[0], goal)</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_no_path():</span>
<span class="diff-unchanged">      # Create a 5x5 grid.</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      # Place a vertical wall of obstacles in column 2.</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][2] = 1</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      # With a full wall between start and goal, no path should be found.</span>
<span class="diff-unchanged">      assert found is False</span>
<span class="diff-unchanged">      assert path == []</span>
<span class="diff-added">+ </span>
<span class="diff-added">+ def test_lazy_priority_queue_remove():</span>
<span class="diff-added">+     pq = LazyPQ()</span>
<span class="diff-added">+     node = Node(0, 0)</span>
<span class="diff-added">+     pq.insert(node, 1)</span>
<span class="diff-added">+     pq.remove(node)  # Remove the node</span>
<span class="diff-added">+     assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue</span>
<span class="diff-added">+ </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_no_path_due_to_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      for i in range(5):</span>
<span class="diff-unchanged">          grid[i][1] = 1  # Create a wall</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(0, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.max_time_step = 1  # limit iterations for testing</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is False  # No path should be found</span>
<span class="diff-unchanged">      assert path == []  # Path should be empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_insert_existing_node():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      node = Node(0, 0)</span>
<span class="diff-unchanged">      pq.insert(node, 1)</span>
<span class="diff-unchanged">      pq.insert(node, 2)  # Insert the same node with a different key</span>
<span class="diff-unchanged">      assert pq.top().key == 2  # The key should be updated to the latest</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_pop_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.pop()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lazy_priority_queue_top_empty():</span>
<span class="diff-unchanged">      pq = LazyPQ()</span>
<span class="diff-unchanged">      with pytest.raises(KeyError):</span>
<span class="diff-unchanged">          pq.top()  # Should raise KeyError since the queue is empty</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_print_path(capfd):</span>
<span class="diff-unchanged">      path = [Node(0, 0), Node(1, 1), Node(2, 2)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(2, 2)</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      print_path(path, start, goal, grid)</span>
<span class="diff-unchanged">      captured = capfd.readouterr()</span>
<span class="diff-unchanged">      assert "Path from start to goal:" in captured.out</span>
<span class="diff-unchanged">      assert "(0, 0) -> (1, 1) -> (2, 2) -> Goal" in captured.out</span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  </span>
<span class="diff-unchanged">  def test_lpa_star_dynamic_obstacles():</span>
<span class="diff-unchanged">      grid = [[0 for _ in range(5)] for _ in range(5)]</span>
<span class="diff-unchanged">      start = Node(0, 0)</span>
<span class="diff-unchanged">      goal = Node(4, 4)</span>
<span class="diff-unchanged">      planner = LPAStar(grid)</span>
<span class="diff-unchanged">      planner.set_dynamic_obstacles(True, {1: [Node(1, 1)]})  # Set a dynamic obstacle</span>
<span class="diff-unchanged">      planner.max_time_step = 1</span>
<span class="diff-unchanged">      found, path = planner.plan(start, goal)</span>
<span class="diff-unchanged">      assert found is True  # Path should still be found despite the obstacle</span>
<span class="diff-unchanged">      assert len(path) > 0  # Ensure that a path exists</span>
<span class="diff-unchanged">  </span></code></pre>
                    </details>
                </td>
                <td>
                    <details>
                        <summary>View More</summary>
                        <div><strong>STDERR:</strong> <pre><code class="language-python"></code></pre></div>
                        <div><strong>STDOUT:</strong> <pre><code class="language-python">============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.5.0
rootdir: /home/quanlac/code/maude/cover-agent/lpastar
plugins: anyio-4.6.2.post1, cov-6.0.0
collected 9 items

test_app.py .........                                                    [100%]

---------- coverage: platform linux, python 3.12.3-final-0 -----------
Name          Stmts   Miss  Cover
---------------------------------
app.py          258     27    90%
test_app.py      77      0   100%
---------------------------------
TOTAL           335     27    92%
Coverage XML written to file coverage.xml


============================== 9 passed in 0.07s ===============================
</code></pre></div>
                        <div><strong>Test Code:</strong> <pre><code class="language-python">def test_lazy_priority_queue_remove():
    pq = LazyPQ()
    node = Node(0, 0)
    pq.insert(node, 1)
    pq.remove(node)  # Remove the node
    assert not pq.is_element_in_struct(node)  # The node should no longer be in the queue
</code></pre></div>
                        <div><strong>Imports:</strong> <pre><code class="language-python">""
</code></pre></div>
                    </details>
                </td>
            </tr>
            
        </table>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    </body>
    </html>
    